{"ast":null,"code":"var _jsxFileName = \"/Users/gilliannieh/exibit-curator/client/src/components/ExhibitSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect } from 'react';\nimport { useExhibit } from '../context/ExhibitContext';\nimport ExhibitModal from './ExhibitModal';\nimport './ExhibitSelector.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ExhibitSelector({\n  artwork,\n  onClose\n}) {\n  _s();\n  const {\n    exhibits,\n    createExhibit,\n    addArtworkToExhibit,\n    isArtworkInExhibit\n  } = useExhibit();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const modalRef = useRef(null);\n  useEffect(() => {\n    const handleEscapeKey = event => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n    const handleClickOutside = event => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n    document.addEventListener('keydown', handleEscapeKey);\n    document.addEventListener('mousedown', handleClickOutside);\n\n    // Prevent body scroll when modal is open\n    document.body.style.overflow = 'hidden';\n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.body.style.overflow = 'unset';\n    };\n  }, [onClose]);\n  const handleAddToExhibit = exhibitId => {\n    addArtworkToExhibit(exhibitId, artwork);\n    onClose();\n  };\n  const handleCreateExhibit = exhibitData => {\n    const newExhibit = createExhibit(exhibitData.name, exhibitData.description);\n    addArtworkToExhibit(newExhibit.id, artwork);\n    setIsModalOpen(false);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"exhibit-selector-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"exhibit-selector-modal\",\n        ref: modalRef,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exhibit-selector-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Add to Exhibit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: onClose,\n            \"aria-label\": \"Close exhibit selector\",\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exhibit-list\",\n          children: exhibits.length > 0 ? exhibits.map(exhibit => {\n            const isAdded = isArtworkInExhibit(exhibit.id, artwork.id);\n            return /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `exhibit-item ${isAdded ? 'added' : ''}`,\n              onClick: () => !isAdded && handleAddToExhibit(exhibit.id),\n              disabled: isAdded,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"exhibit-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"exhibit-name\",\n                  children: exhibit.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"artwork-count\",\n                  children: [exhibit.artworks.length, \" artwork\", exhibit.artworks.length !== 1 ? 's' : '']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 21\n              }, this), isAdded ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"added-indicator\",\n                children: \"\\u2713 Added\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"add-indicator\",\n                children: \"+\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 23\n              }, this)]\n            }, exhibit.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 19\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-exhibits\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No exhibits yet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"exhibit-selector-footer\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"create-exhibit-btn\",\n            onClick: () => setIsModalOpen(true),\n            children: \"+ Create New Exhibit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ExhibitModal, {\n      isOpen: isModalOpen,\n      onClose: () => setIsModalOpen(false),\n      onSave: handleCreateExhibit,\n      mode: \"create\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(ExhibitSelector, \"CLbMZNyDmuGt1P+JlHuDjK1fVXI=\", false, function () {\n  return [useExhibit];\n});\n_c = ExhibitSelector;\nexport default ExhibitSelector;\nvar _c;\n$RefreshReg$(_c, \"ExhibitSelector\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useExhibit","ExhibitModal","jsxDEV","_jsxDEV","Fragment","_Fragment","ExhibitSelector","artwork","onClose","_s","exhibits","createExhibit","addArtworkToExhibit","isArtworkInExhibit","isModalOpen","setIsModalOpen","modalRef","handleEscapeKey","event","key","handleClickOutside","current","contains","target","document","addEventListener","body","style","overflow","removeEventListener","handleAddToExhibit","exhibitId","handleCreateExhibit","exhibitData","newExhibit","name","description","id","children","className","ref","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","map","exhibit","isAdded","disabled","artworks","isOpen","onSave","mode","_c","$RefreshReg$"],"sources":["/Users/gilliannieh/exibit-curator/client/src/components/ExhibitSelector.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { useExhibit } from '../context/ExhibitContext';\nimport ExhibitModal from './ExhibitModal';\nimport './ExhibitSelector.css';\n\nfunction ExhibitSelector({ artwork, onClose }) {\n  const { exhibits, createExhibit, addArtworkToExhibit, isArtworkInExhibit } = useExhibit();\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const modalRef = useRef(null);\n\n  useEffect(() => {\n    const handleEscapeKey = (event) => {\n      if (event.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    const handleClickOutside = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        onClose();\n      }\n    };\n\n    document.addEventListener('keydown', handleEscapeKey);\n    document.addEventListener('mousedown', handleClickOutside);\n    \n    // Prevent body scroll when modal is open\n    document.body.style.overflow = 'hidden';\n    \n    return () => {\n      document.removeEventListener('keydown', handleEscapeKey);\n      document.removeEventListener('mousedown', handleClickOutside);\n      document.body.style.overflow = 'unset';\n    };\n  }, [onClose]);\n\n  const handleAddToExhibit = (exhibitId) => {\n    addArtworkToExhibit(exhibitId, artwork);\n    onClose();\n  };\n\n  const handleCreateExhibit = (exhibitData) => {\n    const newExhibit = createExhibit(exhibitData.name, exhibitData.description);\n    addArtworkToExhibit(newExhibit.id, artwork);\n    setIsModalOpen(false);\n    onClose();\n  };\n\n  return (\n    <>\n      <div className=\"exhibit-selector-overlay\">\n        <div className=\"exhibit-selector-modal\" ref={modalRef}>\n          <div className=\"exhibit-selector-header\">\n            <h3>Add to Exhibit</h3>\n            <button \n              className=\"close-btn\"\n              onClick={onClose}\n              aria-label=\"Close exhibit selector\"\n            >\n              Ã—\n            </button>\n          </div>\n          \n          <div className=\"exhibit-list\">\n            {exhibits.length > 0 ? (\n              exhibits.map(exhibit => {\n                const isAdded = isArtworkInExhibit(exhibit.id, artwork.id);\n                return (\n                  <button\n                    key={exhibit.id}\n                    className={`exhibit-item ${isAdded ? 'added' : ''}`}\n                    onClick={() => !isAdded && handleAddToExhibit(exhibit.id)}\n                    disabled={isAdded}\n                  >\n                    <div className=\"exhibit-info\">\n                      <span className=\"exhibit-name\">{exhibit.name}</span>\n                      <span className=\"artwork-count\">\n                        {exhibit.artworks.length} artwork{exhibit.artworks.length !== 1 ? 's' : ''}\n                      </span>\n                    </div>\n                    {isAdded ? (\n                      <span className=\"added-indicator\">âœ“ Added</span>\n                    ) : (\n                      <span className=\"add-indicator\">+</span>\n                    )}\n                  </button>\n                );\n              })\n            ) : (\n              <div className=\"no-exhibits\">\n                <p>No exhibits yet</p>\n              </div>\n            )}\n          </div>\n          \n          <div className=\"exhibit-selector-footer\">\n            <button \n              className=\"create-exhibit-btn\"\n              onClick={() => setIsModalOpen(true)}\n            >\n              + Create New Exhibit\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <ExhibitModal\n        isOpen={isModalOpen}\n        onClose={() => setIsModalOpen(false)}\n        onSave={handleCreateExhibit}\n        mode=\"create\"\n      />\n    </>\n  );\n}\n\nexport default ExhibitSelector;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}